{"remainingRequest":"/Users/diyana.dimitrova/learning/meet-up/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/diyana.dimitrova/learning/meet-up/src/components/MeetUp/CreateMeetup.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/diyana.dimitrova/learning/meet-up/src/components/MeetUp/CreateMeetup.vue","mtime":1563110074299},{"path":"/Users/diyana.dimitrova/learning/meet-up/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/diyana.dimitrova/learning/meet-up/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/diyana.dimitrova/learning/meet-up/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/diyana.dimitrova/learning/meet-up/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  data () {\n    return {\n      title: '',\n      location: '',\n      imageUrl: '',\n      description: '',\n      date: new Date().toISOString().substr(0, 10),\n      time: new Date(),\n      image: null\n    }\n  },\n  computed: {\n    formIsValid () {\n      return this.title !== '' &&\n          this.location !== '' &&\n          this.imageUrl !== '' &&\n          this.description !== ''\n    },\n    submittableDateTime () {\n      const date = new Date(this.date)\n      if (typeof this.time === 'string') {\n        let hours = this.time.match(/^(\\d+)/)[1]\n        const minutes = this.time.match(/:(\\d+)/)[1]\n        date.setHours(hours)\n        date.setMinutes(minutes)\n      } else {\n        date.setHours(this.time.getHours())\n        date.setMinutes(this.time.getMinutes())\n      }\n      return date\n    }\n  },\n  methods: {\n    onCreateMeetup () {\n      if (!this.formIsValid) {\n        return\n      }\n      if (!this.image) {\n        return\n      }\n      const meetupData = {\n        title: this.title,\n        location: this.location,\n        image: this.image,\n        description: this.description,\n        date: this.submittableDateTime\n      }\n      this.$store.dispatch('createMeetup', meetupData)\n      this.$router.push('/meetups')\n    },\n    onPickFile () {\n      this.$refs.fileInput.click()\n    },\n    onFilePicked (event) {\n      const files = event.target.files\n      let filename = files[0].name\n      if (filename.lastIndexOf('.') <= 0) {\n        return alert('Please add a valid file!')\n      }\n      const fileReader = new FileReader()\n      fileReader.addEventListener('load', () => {\n        this.imageUrl = fileReader.result\n      })\n      fileReader.readAsDataURL(files[0])\n      this.image = files[0]\n    }\n  }\n}\n",{"version":3,"sources":["CreateMeetup.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CreateMeetup.vue","sourceRoot":"src/components/MeetUp","sourcesContent":["<template>\n  <v-container>\n    <v-layout row>\n      <v-flex xs12 sm6 offset-sm3>\n        <h4>Create a new Meetup</h4>\n      </v-flex>\n    </v-layout>\n    <v-layout row>\n      <v-flex xs12>\n        <form @submit.prevent=\"onCreateMeetup\">\n          <v-layout row>\n            <v-flex xs12 sm6 offset-sm3>\n              <v-text-field\n                name=\"title\"\n                label=\"Title\"\n                id=\"title\"\n                v-model=\"title\"\n                required></v-text-field>\n            </v-flex>\n          </v-layout>\n          <v-layout row>\n            <v-flex xs12 sm6 offset-sm3>\n              <v-text-field\n                name=\"location\"\n                label=\"Location\"\n                id=\"location\"\n                v-model=\"location\"\n                required></v-text-field>\n            </v-flex>\n          </v-layout>\n          <v-layout row>\n            <v-flex xs12 sm6 offset-sm3>\n               <v-btn raised class=\"primary\" @click=\"onPickFile\">Upload Image</v-btn>\n              <input\n              type=\"file\"\n              style=\"display: none\"\n              ref=\"fileInput\"\n              accept=\"image/*\"\n              @change=\"onFilePicked\"/>\n            </v-flex>\n          </v-layout>\n          <v-layout row>\n            <v-flex xs12 sm6 offset-sm3>\n              <img :src=\"imageUrl\" height=\"150\">\n            </v-flex>\n          </v-layout>\n          <v-layout row>\n            <v-flex xs12 sm6 offset-sm3>\n              <v-textarea\n                name=\"description\"\n                label=\"Description\"\n                id=\"description\"\n                v-model=\"description\"\n                required></v-textarea>\n            </v-flex>\n          </v-layout>\n          <v-layout row>\n            <v-flex xs12 sm6 offset-sm3>\n              <h4>Choose a Data & Time</h4>\n            </v-flex>\n          </v-layout>\n          <v-layout row class=\"mb-2\">\n            <v-flex xs12 sm6 offset-sm3>\n              <v-date-picker v-model=\"date\"></v-date-picker>\n            </v-flex>\n          </v-layout>\n          <v-layout row>\n            <v-flex xs12 sm6 offset-sm3>\n              {{time}}\n              <v-time-picker v-model=\"time\" format=\"24hr\"></v-time-picker>\n            </v-flex>\n          </v-layout>\n          <v-layout row>\n            <v-flex xs12 sm6 offset-sm3>\n              <v-btn\n                class=\"primary\"\n                :disabled=\"!formIsValid\"\n                type=\"submit\">Create Meetup</v-btn>\n            </v-flex>\n          </v-layout>\n        </form>\n      </v-flex>\n    </v-layout>\n  </v-container>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      title: '',\n      location: '',\n      imageUrl: '',\n      description: '',\n      date: new Date().toISOString().substr(0, 10),\n      time: new Date(),\n      image: null\n    }\n  },\n  computed: {\n    formIsValid () {\n      return this.title !== '' &&\n          this.location !== '' &&\n          this.imageUrl !== '' &&\n          this.description !== ''\n    },\n    submittableDateTime () {\n      const date = new Date(this.date)\n      if (typeof this.time === 'string') {\n        let hours = this.time.match(/^(\\d+)/)[1]\n        const minutes = this.time.match(/:(\\d+)/)[1]\n        date.setHours(hours)\n        date.setMinutes(minutes)\n      } else {\n        date.setHours(this.time.getHours())\n        date.setMinutes(this.time.getMinutes())\n      }\n      return date\n    }\n  },\n  methods: {\n    onCreateMeetup () {\n      if (!this.formIsValid) {\n        return\n      }\n      if (!this.image) {\n        return\n      }\n      const meetupData = {\n        title: this.title,\n        location: this.location,\n        image: this.image,\n        description: this.description,\n        date: this.submittableDateTime\n      }\n      this.$store.dispatch('createMeetup', meetupData)\n      this.$router.push('/meetups')\n    },\n    onPickFile () {\n      this.$refs.fileInput.click()\n    },\n    onFilePicked (event) {\n      const files = event.target.files\n      let filename = files[0].name\n      if (filename.lastIndexOf('.') <= 0) {\n        return alert('Please add a valid file!')\n      }\n      const fileReader = new FileReader()\n      fileReader.addEventListener('load', () => {\n        this.imageUrl = fileReader.result\n      })\n      fileReader.readAsDataURL(files[0])\n      this.image = files[0]\n    }\n  }\n}\n</script>\n"]}]}