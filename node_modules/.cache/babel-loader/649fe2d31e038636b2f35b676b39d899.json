{"remainingRequest":"/Users/diyana.dimitrova/learning/meet-up/node_modules/babel-loader/lib/index.js!/Users/diyana.dimitrova/learning/meet-up/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/diyana.dimitrova/learning/meet-up/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/diyana.dimitrova/learning/meet-up/src/components/MeetUp/CreateMeetup.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/diyana.dimitrova/learning/meet-up/src/components/MeetUp/CreateMeetup.vue","mtime":1563623162525},{"path":"/Users/diyana.dimitrova/learning/meet-up/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/diyana.dimitrova/learning/meet-up/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/diyana.dimitrova/learning/meet-up/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/diyana.dimitrova/learning/meet-up/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Users/diyana.dimitrova/learning/meet-up/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/diyana.dimitrova/learning/meet-up/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/diyana.dimitrova/learning/meet-up/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/diyana.dimitrova/learning/meet-up/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.last-index-of\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.match\";\nimport \"core-js/modules/es6.date.to-iso-string\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      title: '',\n      location: '',\n      imageUrl: '',\n      description: '',\n      date: new Date().toISOString().substr(0, 10),\n      time: new Date(),\n      image: null\n    };\n  },\n  computed: {\n    formIsValid: function formIsValid() {\n      return this.title !== '' && this.location !== '' && this.imageUrl !== '' && this.description !== '';\n    },\n    submittableDateTime: function submittableDateTime() {\n      var date = new Date(this.date);\n\n      if (typeof this.time === 'string') {\n        var hours = this.time.match(/^(\\d+)/)[1];\n        var minutes = this.time.match(/:(\\d+)/)[1];\n        date.setHours(hours);\n        date.setMinutes(minutes);\n      } else {\n        date.setHours(this.time.getHours());\n        date.setMinutes(this.time.getMinutes());\n      }\n\n      return date;\n    }\n  },\n  methods: {\n    onCreateMeetup: function onCreateMeetup() {\n      if (!this.formIsValid) {\n        return;\n      }\n\n      if (!this.image) {\n        return;\n      }\n\n      var meetupData = {\n        title: this.title,\n        location: this.location,\n        image: this.image,\n        description: this.description,\n        date: this.submittableDateTime\n      };\n      this.$store.dispatch('createMeetup', meetupData);\n      this.$router.push('/meetups');\n    },\n    onPickFile: function onPickFile() {\n      this.$refs.fileInput.click();\n    },\n    onFilePicked: function onFilePicked(event) {\n      var _this = this;\n\n      var files = event.target.files;\n      var filename = files[0].name;\n\n      if (filename.lastIndexOf('.') <= 0) {\n        return alert('Please add a valid file!');\n      }\n\n      var fileReader = new FileReader();\n      fileReader.addEventListener('load', function () {\n        _this.imageUrl = fileReader.result;\n      });\n      fileReader.readAsDataURL(files[0]);\n      this.image = files[0];\n    }\n  }\n};",{"version":3,"sources":["CreateMeetup.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsFA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,QAAA,EAAA,EAHA;AAIA,MAAA,WAAA,EAAA,EAJA;AAKA,MAAA,IAAA,EAAA,IAAA,IAAA,GAAA,WAAA,GAAA,MAAA,CAAA,CAAA,EAAA,EAAA,CALA;AAMA,MAAA,IAAA,EAAA,IAAA,IAAA,EANA;AAOA,MAAA,KAAA,EAAA;AAPA,KAAA;AASA,GAXA;AAYA,EAAA,QAAA,EAAA;AACA,IAAA,WADA,yBACA;AACA,aAAA,KAAA,KAAA,KAAA,EAAA,IACA,KAAA,QAAA,KAAA,EADA,IAEA,KAAA,QAAA,KAAA,EAFA,IAGA,KAAA,WAAA,KAAA,EAHA;AAIA,KANA;AAOA,IAAA,mBAPA,iCAOA;AACA,UAAA,IAAA,GAAA,IAAA,IAAA,CAAA,KAAA,IAAA,CAAA;;AACA,UAAA,OAAA,KAAA,IAAA,KAAA,QAAA,EAAA;AACA,YAAA,KAAA,GAAA,KAAA,IAAA,CAAA,KAAA,CAAA,QAAA,EAAA,CAAA,CAAA;AACA,YAAA,OAAA,GAAA,KAAA,IAAA,CAAA,KAAA,CAAA,QAAA,EAAA,CAAA,CAAA;AACA,QAAA,IAAA,CAAA,QAAA,CAAA,KAAA;AACA,QAAA,IAAA,CAAA,UAAA,CAAA,OAAA;AACA,OALA,MAKA;AACA,QAAA,IAAA,CAAA,QAAA,CAAA,KAAA,IAAA,CAAA,QAAA,EAAA;AACA,QAAA,IAAA,CAAA,UAAA,CAAA,KAAA,IAAA,CAAA,UAAA,EAAA;AACA;;AACA,aAAA,IAAA;AACA;AAnBA,GAZA;AAiCA,EAAA,OAAA,EAAA;AACA,IAAA,cADA,4BACA;AACA,UAAA,CAAA,KAAA,WAAA,EAAA;AACA;AACA;;AACA,UAAA,CAAA,KAAA,KAAA,EAAA;AACA;AACA;;AACA,UAAA,UAAA,GAAA;AACA,QAAA,KAAA,EAAA,KAAA,KADA;AAEA,QAAA,QAAA,EAAA,KAAA,QAFA;AAGA,QAAA,KAAA,EAAA,KAAA,KAHA;AAIA,QAAA,WAAA,EAAA,KAAA,WAJA;AAKA,QAAA,IAAA,EAAA,KAAA;AALA,OAAA;AAOA,WAAA,MAAA,CAAA,QAAA,CAAA,cAAA,EAAA,UAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,UAAA;AACA,KAjBA;AAkBA,IAAA,UAlBA,wBAkBA;AACA,WAAA,KAAA,CAAA,SAAA,CAAA,KAAA;AACA,KApBA;AAqBA,IAAA,YArBA,wBAqBA,KArBA,EAqBA;AAAA;;AACA,UAAA,KAAA,GAAA,KAAA,CAAA,MAAA,CAAA,KAAA;AACA,UAAA,QAAA,GAAA,KAAA,CAAA,CAAA,CAAA,CAAA,IAAA;;AACA,UAAA,QAAA,CAAA,WAAA,CAAA,GAAA,KAAA,CAAA,EAAA;AACA,eAAA,KAAA,CAAA,0BAAA,CAAA;AACA;;AACA,UAAA,UAAA,GAAA,IAAA,UAAA,EAAA;AACA,MAAA,UAAA,CAAA,gBAAA,CAAA,MAAA,EAAA,YAAA;AACA,QAAA,KAAA,CAAA,QAAA,GAAA,UAAA,CAAA,MAAA;AACA,OAFA;AAGA,MAAA,UAAA,CAAA,aAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,WAAA,KAAA,GAAA,KAAA,CAAA,CAAA,CAAA;AACA;AAjCA;AAjCA,CAAA","sourcesContent":["<template>\n  <v-container>\n    <v-layout row>\n      <v-flex xs12 sm6 offset-sm3>\n        <h2>Create a new Meetup</h2>\n      </v-flex>\n    </v-layout>\n    <v-layout row>\n      <v-flex xs12>\n        <form @submit.prevent=\"onCreateMeetup\">\n          <v-layout row>\n            <v-flex xs12 sm6 offset-sm3>\n              <v-text-field\n                name=\"title\"\n                label=\"Title\"\n                id=\"title\"\n                v-model=\"title\"\n                required></v-text-field>\n            </v-flex>\n          </v-layout>\n          <v-layout row>\n            <v-flex xs12 sm6 offset-sm3>\n              <v-text-field\n                name=\"location\"\n                label=\"Location\"\n                id=\"location\"\n                v-model=\"location\"\n                required></v-text-field>\n            </v-flex>\n          </v-layout>\n          <v-layout row>\n            <v-flex xs12 sm6 offset-sm3>\n               <v-btn raised class=\"primary\" @click=\"onPickFile\">Upload Image</v-btn>\n              <input\n              type=\"file\"\n              style=\"display: none\"\n              ref=\"fileInput\"\n              accept=\"image/*\"\n              @change=\"onFilePicked\"/>\n            </v-flex>\n          </v-layout>\n          <v-layout row>\n            <v-flex xs12 sm6 offset-sm3>\n              <img :src=\"imageUrl\" height=\"150\">\n            </v-flex>\n          </v-layout>\n          <v-layout row>\n            <v-flex xs12 sm6 offset-sm3>\n              <v-textarea\n                name=\"description\"\n                label=\"Description\"\n                id=\"description\"\n                v-model=\"description\"\n                required></v-textarea>\n            </v-flex>\n          </v-layout>\n          <v-layout row>\n            <v-flex xs12 sm6 offset-sm3>\n              <h4>Choose a Data & Time</h4>\n            </v-flex>\n          </v-layout>\n          <v-layout row class=\"mb-2\">\n            <v-flex xs12 sm6 offset-sm3>\n              <v-date-picker v-model=\"date\"></v-date-picker>\n            </v-flex>\n          </v-layout>\n          <v-layout row>\n            <v-flex xs12 sm6 offset-sm3>\n              <v-time-picker v-model=\"time\" format=\"24hr\"></v-time-picker>\n            </v-flex>\n          </v-layout>\n          <v-layout row>\n            <v-flex xs12 sm6 offset-sm3>\n              <v-btn\n                class=\"primary\"\n                :disabled=\"!formIsValid\"\n                type=\"submit\">Create Meetup</v-btn>\n            </v-flex>\n          </v-layout>\n        </form>\n      </v-flex>\n    </v-layout>\n  </v-container>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      title: '',\n      location: '',\n      imageUrl: '',\n      description: '',\n      date: new Date().toISOString().substr(0, 10),\n      time: new Date(),\n      image: null\n    }\n  },\n  computed: {\n    formIsValid () {\n      return this.title !== '' &&\n          this.location !== '' &&\n          this.imageUrl !== '' &&\n          this.description !== ''\n    },\n    submittableDateTime () {\n      const date = new Date(this.date)\n      if (typeof this.time === 'string') {\n        let hours = this.time.match(/^(\\d+)/)[1]\n        const minutes = this.time.match(/:(\\d+)/)[1]\n        date.setHours(hours)\n        date.setMinutes(minutes)\n      } else {\n        date.setHours(this.time.getHours())\n        date.setMinutes(this.time.getMinutes())\n      }\n      return date\n    }\n  },\n  methods: {\n    onCreateMeetup () {\n      if (!this.formIsValid) {\n        return\n      }\n      if (!this.image) {\n        return\n      }\n      const meetupData = {\n        title: this.title,\n        location: this.location,\n        image: this.image,\n        description: this.description,\n        date: this.submittableDateTime\n      }\n      this.$store.dispatch('createMeetup', meetupData)\n      this.$router.push('/meetups')\n    },\n    onPickFile () {\n      this.$refs.fileInput.click()\n    },\n    onFilePicked (event) {\n      const files = event.target.files\n      let filename = files[0].name\n      if (filename.lastIndexOf('.') <= 0) {\n        return alert('Please add a valid file!')\n      }\n      const fileReader = new FileReader()\n      fileReader.addEventListener('load', () => {\n        this.imageUrl = fileReader.result\n      })\n      fileReader.readAsDataURL(files[0])\n      this.image = files[0]\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/components/MeetUp"}]}